(this["webpackJsonpclass-32-solution-todo"]=this["webpackJsonpclass-32-solution-todo"]||[]).push([[0],{250:function(e,t){},259:function(e,t){},261:function(e,t){},276:function(e,t){},278:function(e,t){},306:function(e,t){},308:function(e,t){},309:function(e,t){},314:function(e,t){},316:function(e,t){},322:function(e,t){},324:function(e,t){},343:function(e,t){},355:function(e,t){},358:function(e,t){},397:function(e,t,n){},398:function(e,t,n){"use strict";n.r(t);var c=n(23),a=n(24),i=n(26),r=n(25),s=n(0),o=n.n(s),l=n(13),j=n.n(l),u=n(42),b=n.n(u),d=n(62),O=n(12),p=n(173),h=n.n(p),x=n(174),f=n.n(x),m=n(175),g=n.n(m),v=n(64),y=n.n(v),C=n(19),S=n(180),I=n(96),k=function(e){var t=Object(s.useState)({}),n=Object(O.a)(t,2),c=n[0],a=n[1];return{handleChange:function(e){e.persist(),a((function(t){return Object(I.a)(Object(I.a)({},t),{},Object(C.a)({},e.target.name,e.target.value))}))},handleSubmit:function(t){t&&t.preventDefault(),e(c)},values:c}},N=n(1),w=o.a.createContext();var D=function(e){var t=Object(s.useState)(!1),n=Object(O.a)(t,2),c=n[0],a=n[1],i=Object(s.useState)(2),r=Object(O.a)(i,2),o=r[0],l=r[1],j=Object(s.useState)("do"),u=Object(O.a)(j,2),b=u[0],d=u[1],p={display:c,numOfItems:o,defaultSort:b,setDisplay:a,setNumOfItems:l,setDefaultSort:d};return Object(s.useEffect)((function(){var e=localStorage.getItem("SettingForm"),t=JSON.parse(e);t&&l(Number(t.numberOfItem)),localStorage.clear()}),[]),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(w.Provider,{value:p,children:e.children})})},L=n(403),T=n(176),A=n.n(T),F=n(32);function J(e){var t=Object(s.useContext)(W),n=t.loggedIn,c=!e.capability||t.can(e.capability),a=n&&c;return Object(N.jsx)(F.a,{condition:a,children:e.children})}var P=function(e){var t=Object(s.useContext)(w),n=Object(s.useState)(0),c=Object(O.a)(n,2),a=c[0],i=c[1],r=t.numOfItems,o=a*r,l=e.list.slice(o,o+r).map((function(t){return Object(N.jsxs)("div",{style:{width:"650px",margin:"15px"},children:[Object(N.jsx)("p",{children:t.text}),Object(N.jsx)("p",{children:Object(N.jsxs)("small",{children:["Assigned to: ",t.assignee]})}),Object(N.jsx)("p",{children:Object(N.jsxs)("small",{children:["Difficulty: ",t.difficulty]})}),Object(N.jsxs)(J,{capability:"update",children:[Object(N.jsx)(L.a,{onClick:function(){return e.toggleComplete(t.id)},children:"true"===t.complete.toString()?Object(N.jsx)("div",{style:{background:"green"},children:"Completed"}):Object(N.jsx)("div",{style:{background:"pink"},children:"Pending"})}),"        "]}),Object(N.jsxs)(J,{capability:"delete",children:[" ",Object(N.jsx)(L.a,{style:{background:"#008075"},intent:"danger",onClick:function(){return e.deleteItem(t.id)},children:"Delete"})]})]},t.id)})),j=Math.ceil(e.list.length/r);return Object(N.jsxs)(N.Fragment,{children:[l,Object(N.jsx)(A.a,{previousLabel:"Previous",nextLabel:"Next",pageCount:j,onPageChange:function(e){var t=e.selected;i(t)},containerClassName:"paginationBttns",previousLinkClassName:"previousBttn",nextLinkClassName:"nextBttn",disabledClassName:"paginationDisabled",activeClassName:"paginationActive"})]})},B=n(404),E=n(27);var U=function(){return Object(N.jsx)("div",{children:Object(N.jsx)("div",{className:"toDo",children:Object(N.jsx)(L.b,{interactive:!0,elevation:E.a.TWO,children:Object(N.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e){localStorage.setItem("SettingForm",JSON.stringify(e))}({display:e.target.disply.value,numberOfItem:e.target.numberOfItem.value}),e.target.reset(),window.location.href="/"},children:[Object(N.jsx)("h2",{children:"Choose Setting"}),Object(N.jsx)(L.c,{label:"show completed tasks",labelFor:"disply",children:Object(N.jsxs)("select",{name:"disply",dir:"auto",className:"bp3-input .modifier",children:[Object(N.jsx)("option",{value:!0,children:"true"}),Object(N.jsx)("option",{value:!1,children:"false"})]})}),Object(N.jsx)(L.c,{label:"numberOfItem per page ",labelFor:"assignee",children:Object(N.jsx)("input",{className:"bp3-input .modifier",name:"numberOfItem",type:"text",placeholder:"numberOfItem per page",dir:"auto"})}),Object(N.jsx)("br",{}),Object(N.jsx)(L.a,{type:"submit",style:{background:"#008075"},children:"Try \u2734\ufe0f"})]})})})})},M=function(){var e,t,n=Object(s.useContext)(W),c=Object(s.useState)([]),a=Object(O.a)(c,2),i=a[0],r=a[1],o=Object(s.useState)([]),l=Object(O.a)(o,2),j=l[0],u=l[1],b=k((function(e){e.id=Object(B.a)(),e.complete=!1,r([].concat(Object(S.a)(i),[e]))})),d=b.handleChange,p=b.handleSubmit;return Object(s.useEffect)((function(){var e=i.filter((function(e){return!e.complete})).length;u(e),document.title="To Do List: ".concat(j)}),[i]),Object(N.jsx)(F.a,{condition:n.loggedIn,children:Object(N.jsxs)(J,{capability:"create",children:[Object(N.jsx)(L.b,{interactive:!0,elevation:E.a.TWO,children:Object(N.jsxs)("div",{className:"mainsec",children:[Object(N.jsxs)("h1",{children:["To Do List  (",j,")"]}),Object(N.jsxs)("div",{className:"mainCards",children:[Object(N.jsxs)("form",{onSubmit:p,children:[Object(N.jsx)("h2",{children:"Add To Do Item"}),Object(N.jsxs)("label",{children:[Object(N.jsx)("span",{children:"To Do Item"}),Object(N.jsx)("input",(e={onChange:d,name:"text",type:"text",placeholder:"Item Details",class:"bp3-input .modifier"},Object(C.a)(e,"type","text"),Object(C.a)(e,"dir","auto"),e))]}),Object(N.jsxs)("label",{children:[Object(N.jsx)("span",{children:"Assigned To"}),Object(N.jsx)("input",(t={class:"bp3-input .modifier",type:"text",onChange:d,name:"assignee"},Object(C.a)(t,"type","text"),Object(C.a)(t,"placeholder","Assignee Name"),Object(C.a)(t,"dir","auto"),t))]}),Object(N.jsxs)("label",{children:[Object(N.jsx)("span",{children:"Difficulty"}),Object(N.jsx)("input",{onChange:d,defaultValue:3,type:"range",min:1,max:5,name:"difficulty",dir:"auto"})]}),Object(N.jsx)("label",{children:Object(N.jsx)(L.a,{"data-testid":"button-test",type:"submit",rightIcon:"arrow-right",intent:"success",text:"Add Item"})})]}),Object(N.jsx)(P,{list:i,toggleComplete:function(e){var t=i.map((function(t){return t.id==e&&(t.complete=!t.complete),t}));r(t)},deleteItem:function(e){var t=i.filter((function(t){return t.id!==e}));r(t)}})]})]})}),Object(N.jsx)(U,{})]})})},W=o.a.createContext();function z(e){var t=Object(s.useState)(!1),n=Object(O.a)(t,2),c=n[0],a=n[1],i=Object(s.useState)({}),r=Object(O.a)(i,2),o=r[0],l=r[1];Object(s.useEffect)((function(){var e=new URLSearchParams(window.location.search),t=y.a.load("auth"),n=e.get("token")||t||null;u(n)}),[]);var j=function(){var e=Object(d.a)(b.a.mark((function e(t,n){var c,a,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=f.a.encode("".concat(t,":").concat(n.toUpperCase())),e.next=3,h.a.post("".concat("https://dimaalabsiauth-api.herokuapp.com/signin")).set("authorization","Basic ".concat(c)).set("Access-Control-Allow-Origin","*");case 3:a=e.sent,u(a.body.token),i=localStorage.getItem("logout"),JSON.parse(i);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u=function(e){if(e){var t=g.a.decode(e);p(!0,t),y.a.save("token",e)}else p(!1,{})},p=function(e,t){a(e),l(t)},x={loggedIn:c,login:j,logout:function(){p(!1,{}),y.a.remove("token");var e=localStorage.getItem("list"),t=JSON.parse(e),n=JSON.stringify(t);localStorage.setItem("logout",n)},user:o,can:function(e){var t;return null===o||void 0===o||null===(t=o.capabilities)||void 0===t?void 0:t.includes(e)}};return Object(N.jsx)(W.Provider,{value:x,children:e.children})}function G(){var e=Object(s.useContext)(W),t=k((function(t){e.login(t.username,t.password)})),n=t.handleChange,c=t.handleSubmit;return Object(N.jsx)("div",{children:Object(N.jsxs)("form",{onSubmit:c,children:[Object(N.jsx)("h2",{children:"LogIn"}),Object(N.jsxs)("label",{children:[Object(N.jsx)("span",{children:"User Name"}),Object(N.jsx)("input",{onChange:n,name:"username",type:"text",placeholder:"username"})]}),Object(N.jsxs)("label",{children:[Object(N.jsx)("span",{children:"Password"}),Object(N.jsx)("input",{onChange:n,name:"password",type:"password",placeholder:"password"})]}),Object(N.jsx)("label",{children:Object(N.jsx)(L.a,{type:"submit",children:"LogIn"})})]})})}var H=n(50),R=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(N.jsx)(L.d,{class:"bp3-navbar bp3-dark",children:Object(N.jsxs)(L.d.Group,{align:H.a.LEFT,children:[Object(N.jsx)(L.d.Heading,{children:"TO DO List Manager \ud83d\udcd4"}),Object(N.jsx)(L.d.Divider,{})]})})}}]),n}(s.Component),V=R;s.Component,n(397);var q=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(F.a,{condition:this.context.loggedIn,children:[Object(N.jsx)(V,{}),Object(N.jsx)(M,{}),Object(N.jsx)(U,{})]}),Object(N.jsx)(F.a,{condition:!this.context.loggedIn,children:Object(N.jsx)(G,{})})]})}}]),n}(o.a.Component);q.contextType=W;var K=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(N.jsx)(z,{children:Object(N.jsx)(D,{children:Object(N.jsx)(q,{})})})}}]),n}(o.a.Component),Q=document.getElementById("root");j.a.render(Object(N.jsx)(K,{}),Q)}},[[398,1,2]]]);
//# sourceMappingURL=main.09dd3bd8.chunk.js.map